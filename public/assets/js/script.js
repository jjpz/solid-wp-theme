"use strict";var windowWidth,siteHeaderWidth,html=document.documentElement,body=document.body,siteHeader=document.querySelector(".site-header"),siteNav=siteHeader.querySelector(".site-nav"),navToggle=siteHeader.querySelector(".nav-toggle"),siteMain=document.querySelector(".site-main"),siteFooter=document.querySelector(".site-footer"),images=document.querySelectorAll(".image"),popups=document.querySelectorAll('[data-toggle="popup"]'),prev=document.querySelectorAll("a.team-prev"),next=document.querySelectorAll("a.team-next"),mobileBreakpoint=769;function checkWindowWidth(){return windowWidth=html.clientWidth}function checkMobile(){window.navigator.userAgent.includes("Mobi")?(body.classList.remove("desktop"),body.classList.add("mobile")):(body.classList.remove("mobile"),body.classList.add("desktop"))}function loading(){setTimeout(function(){document.getElementById("loader").classList.add("loaded")},250),setTimeout(function(){document.getElementById("overlay").classList.add("loaded")},500),setTimeout(function(){document.getElementById("overlay").style.display="none"},1500)}function intersectionObserver(){checkImages();var t,e,n=document.querySelectorAll("img.lazy"),o=!1;"IntersectionObserver"in window?(t=new IntersectionObserver(function(e,n){e.forEach(function(e){var t,i;e.isIntersecting&&((i=(t=e.target).srcset)&&(t.src=i),t.classList.remove("lazy"),""!=t.src&&t.nextElementSibling.classList.remove("on"),n.unobserve(t))})},{rootMargin:"250px 0px"}),n.forEach(function(e){t.observe(e)})):(e=function i(){!1===o&&(o=!0,n.forEach(function(t){var e;t.getBoundingClientRect().top<=window.innerHeight&&0<=t.getBoundingClientRect().bottom&&"none"!==getComputedStyle(t).display&&(e=t.dataset.srcset,t.src=e,t.srcset=e,t.currentSrc=e,t.classList.remove("lazy"),""!=t.srcset&&t.nextElementSibling.classList.remove("on"),0===(n=n.filter(function(e){return e!==t})).length&&(document.removeEventListener("scroll",i),window.removeEventListener("resize",i),window.removeEventListener("orientationchange",i)))}),o=!1)},window.addEventListener("scroll",e),window.addEventListener("resize",e),window.addEventListener("orientationchange",e))}function checkImages(){checkWindowWidth(),body.classList.contains("home")&&images.forEach(function(e){var t=e.getElementsByTagName("img")[0];if(t){var i=t.dataset.mobile,n=t.dataset.desktop,o=t.dataset.srcset,s=[],c=[],r=[];if(!i&&!n&&!o)return;i||n||!o?(s=i.split(", "),c=n.split(", ")):r=o.split(", ");var a,d=[],l=[],u=t.dataset.mobileAlt,m=t.dataset.mobileTitle,v=t.dataset.desktopAlt,g=t.dataset.desktopTitle;0<s.length&&0<c.length?windowWidth<mobileBreakpoint?(d=s,t.title=m,t.alt=u):(d=c,t.title=g,t.alt=v):""!=s?d=s:""!=c?d=c:""!=r&&(d=r),d.forEach(function(e){var t={},i=e.split(" ");i[1]=i[1].slice(0,-1),t.width=i[1],t.src=i[0],l.push(t)}),l.sort(function(e,t){return e.width-t.width});for(var p=0,f=l.length;p<f;p++){if(l[p].width>=e.offsetWidth){a=l[p].src;break}a=l[f-1].src}t.classList.contains("lazy")?t.srcset=a:(t.srcset=a,t.src=a)}})}function checkSiteHeaderWidth(){var e=parseInt(window.getComputedStyle(siteHeader).getPropertyValue("padding-left"))+parseInt(window.getComputedStyle(siteHeader).getPropertyValue("padding-right")),t=siteHeader.querySelector(".site-branding").offsetWidth,i=siteHeader.querySelector(".main-nav").offsetWidth,n=siteHeader.querySelector(".button-nav").offsetWidth;return siteHeaderWidth=t+i+n+e}function checkSiteHeader(){windowWidth<=siteHeaderWidth?(siteHeader.classList.remove("sticky"),siteHeader.classList.add("mobile","fixed"),siteMain.classList.add("mobile"),siteNav.classList.add("mobile"),navToggle.classList.add("show")):(siteHeader.classList.remove("mobile","fixed"),siteMain.classList.remove("mobile"),siteNav.classList.remove("mobile"),navToggle.classList.remove("show"))}function checkStickyNav(){var e=window.scrollY,t=document.querySelector(".offset-height"),i=t?t.offsetHeight:"";""==i||siteHeader.classList.contains("mobile")?(siteHeader.classList.add("fixed"),siteMain.classList.add("fixed")):i<e?siteHeader.classList.add("sticky"):siteHeader.classList.remove("sticky")}function getPopup(e){var t=e.dataset.target,i=document.getElementById(t),n=i.querySelector(".popup-content"),o=i.querySelector(".popup-close");return{popup:i,content:n,close:o}}document.addEventListener("DOMContentLoaded",intersectionObserver),navToggle.addEventListener("click",function(e){e.preventDefault(),navToggle.classList.toggle("on"),siteNav.classList.toggle("show")}),popups.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=this.dataset.target,i=this.dataset.classes,n=document.getElementById(t);n.querySelector(".popup-content").scroll(0,0),document.body.classList.toggle("no-scroll"),n.classList.toggle(i)})}),prev.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=getPopup(n),i=t.popup.parentElement.previousElementSibling.querySelector("a.member-card");t.content.scroll(0,0),t.close.click(),i.click()})}),next.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();var t=getPopup(n),i=t.popup.parentElement.nextElementSibling.querySelector("a.member-card");t.content.scroll(0,0),t.close.click(),i.click()})}),window.addEventListener("load",function(){checkMobile(),loading(),checkSiteHeaderWidth(),checkSiteHeader(),checkStickyNav()}),window.addEventListener("scroll",function(){checkStickyNav()}),window.addEventListener("resize",function(){checkMobile(),checkImages(),checkSiteHeader(),checkStickyNav()});